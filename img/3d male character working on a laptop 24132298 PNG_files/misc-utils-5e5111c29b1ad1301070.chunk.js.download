(window.webpackJsonp=window.webpackJsonp||[]).push([[46],{123:function(e,r,t){"use strict";t.d(r,"a",(function(){return v})),t.d(r,"b",(function(){return m}));var n=t(23),o=t(9),a=t(7),c=t(20),i=t(65),u=t(3);function l(e){return function(e){if(Array.isArray(e))return s(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,r){if(!e)return;if("string"===typeof e)return s(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return s(e,r)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}var d,v=function(e,r){return Object.keys(e).find((function(t){return e[t].href===r}))},f=function(){var e,r,t,n,o,a=Object(i.a)("resources-nav-context"),c=parseInt(a.currentPosition,10);(e=document.getElementsByTagName("head")[0]).querySelectorAll("link.modal-show-prefetch").forEach((function(r){e.removeChild(r)})),n=JSON.parse((null==(r=a[c-1])?void 0:r.previewsSrcs)||"[]"),o=JSON.parse((null==(t=a[c+1])?void 0:t.previewsSrcs)||"[]"),[].concat(l(n),l(o)).forEach((function(e){var r=Object(u.C)(e)?"video":"image";Object(u.q)({src:e,asAttr:r,linkClass:"modal-show-prefetch"})}))},m=function(e){var r,t=e.event,i=void 0===t?null:t,l=e.url,s=e.container,v=void 0===s?null:s,m=e.callback,p=void 0===m?null:m,w=e.data,b=void 0===w?null:w,y=e.params,h=void 0===y?null:y;if(clearTimeout(d),Object(u.o)()>1e3){if(i){var g=i.currentTarget;i.preventDefault(),function(e){var r=e.currentTarget,t="true"===r.closest(".ez-resource-thumb").dataset.pro?"Pro":"Free";Object(a.k)({element:r,data:{action:o.nc,label:t,content_type:"Content-".concat(r.dataset.contentType)}})}(i),Object(u.Y)(c.a.show_page.modal.build_resource_navigation_context,{targetResourcePath:l,targetResourceGroup:v||(null==g?void 0:g.closest('[data-controller*="resources-grid"]'))})}var j=null==(r=document.querySelector("#show-modal-template"))?void 0:r.innerHTML;if(j&&!document.querySelector("#resource-show-modal-view-container")){var S=Object(u.H)(j,{modal_contents:""});document.body.insertAdjacentHTML("beforeend",S)}var O=document.querySelector('#resource-show-modal-view [data-resource-show-modal-view-target="content"]');O&&(!function(e){d=setTimeout((function(){e.classList.add("is-loading"),e.insertAdjacentHTML("afterbegin",'\n      <div class="resource-show-modal-view__loading-overlay"\n           data-resource-show-modal-view-target="loadingOverlay">\n        <div class="ez-spinner ez-spinner"></div>\n      </div>\n    ')}),800)}(O),function(e,r,t){return Object(n.g)(e,{data:r,params:t})}(l,b,h).then((function(e){document.querySelector("#resource-show-modal-view-container .ez-resource-show")?O.innerHTML=e.data:O.insertAdjacentHTML("beforeend",e.data),f(),clearTimeout(d),document.querySelector(".resource-show-modal-view__loading-overlay")&&function(e){document.querySelector(".resource-show-modal-view__loading-overlay").remove(),e.classList.remove("is-loading")}(O),p&&p()})))}}}}]);
//# sourceMappingURL=misc-utils-5e5111c29b1ad1301070.chunk.js.map