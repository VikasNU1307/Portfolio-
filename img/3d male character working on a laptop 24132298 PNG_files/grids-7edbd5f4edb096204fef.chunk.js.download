(window.webpackJsonp=window.webpackJsonp||[]).push([[76],{1278:function(e,t,r){"use strict";r.r(t);var n=r(3),o=(r(686),r.p,r(687),r(688),r(689),r(6)),i=r(13),a=r(49),c=r.n(a),u=r(7),s=r(9),l=r(79),f=r(20),d=r(123),p=r(23),h=r(83),v=r(14),b=r.n(v),y=r(16);function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _(e,t){return _=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},_(e,t)}function w(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=O(e);if(t){var o=O(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return T(this,r)}}function T(e,t){return!t||"object"!==typeof t&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function O(e){return O=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},O(e)}r(690);var k=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_(e,t)}(a,e);var t,r,o,i=w(a);function a(){var e;return m(this,a),(e=i.apply(this,arguments)).gridObserver=null,e.initGrid=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(!e.element.classList.contains("ez-resource-grid--partner")){("true"!==e.element.dataset.instantGrid||"true"===e.element.dataset.instantGrid&&t)&&window.ezResourceGrid({gridSelector:e.element,options:{rowHeight:parseInt(e.element.getAttribute("data-row-height"),10),maxRows:parseInt(e.element.getAttribute("data-max-rows"),10),truncate:!!e.element.getAttribute("data-truncate-results")}});var r=e.element.querySelectorAll(".ez-resource-grid__item");r.forEach((function(e,t){e.setAttribute("data-position","".concat(t+1))}));var n=Array.from(document.querySelectorAll("link[rel=preload][as=image]")).map((function(e){return e.getAttribute("href")}));n.forEach((function(t){var r=e.element.querySelector('img[src="'.concat(t,'"]'));r&&(r.removeAttribute("loading"),r.setAttribute("fetchpriority","high"))}))}},e.trackResourceClick=function(t){var r=t.currentTarget.closest(".ez-resource-thumb"),n="true"===r.dataset.pro?"Pro":"Free",o={action:s.v,label:n,content_type:"Content-".concat(t.currentTarget.dataset.contentType)};e.element.dataset.gridPage&&(o.value=e.gridItemIndex(r)),Object(u.k)({element:t.currentTarget,data:o}),"Free"===n&&Object(h.c)({searchTerm:e.searchTerm||b.a.get("most_recent_search")})},e.trackResourceRightClick=function(e){var t=e.target.closest(".ez-resource-thumb");t&&("Free"===("true"===t.dataset.pro?"Pro":"Free")&&Object(h.c)({display:!1}))},e.loadModalShow=function(e){var t=e.currentTarget.getAttribute("href");Object(d.b)({event:e,url:t,callback:function(){return Object(n.Y)(f.a.show_page.modal.open_modal_view)}})},e.nopeResource=function(t){t.preventDefault(),t.stopImmediatePropagation();Object(p.d)("/admin/search/search_term_options/exclude",e.afterSearchTweak,(function(){}),e.stoParams(e.parseResourceId(t)))},e.excludeTerm=function(t){t.preventDefault(),t.stopImmediatePropagation();var r=prompt("enter term to exclude"),n={term:e.searchTerm,locale:e.locale,content_type:e.contentType,excluded_term:r};Object(p.d)("/admin/search/search_term_options/exclude_term",e.afterSearchTweak,(function(){}),n)},e.stoParams=function(t){return{term:e.searchTerm,locale:e.locale,content_type:e.contentType,resource_id:t}},e.afterSearchTweak=function(){window.EezyScrollPositionHelper.preservePositionOnce(),c.a.visit(window.location.href)},e}return t=a,(r=[{key:"shouldTrackTruncation",get:function(){return this.hasTrackTruncationValue&&this.trackTruncationValue}},{key:"connect",value:function(){this.initGrid(),window.addEventListener(y.r,this.initGrid),this.insertExcludeTermButton(),this.shouldTrackTruncation&&this.trackResourceTruncation(),this.element.addEventListener("contextmenu",this.trackResourceRightClick)}},{key:"disconnect",value:function(){window.removeEventListener(y.r,this.initGrid),this.element.removeEventListener("contextmenu",this.trackResourceRightClick),this.gridObserver&&this.gridObserver.disconnect()}},{key:"trackResourceTruncation",value:function(){if(this.hasGridItemTarget){var e=this.gridItemTargets.length,t=this.gridItemTargets.filter((function(e){return"none"===e.style.display})).length,r=Object(n.m)(t,e);Object(u.j)({search_results_percent_hidden:r})}}},{key:"gridItemIndex",value:function(e){var t=parseInt(e.dataset.position,10),r=parseInt(this.element.dataset.gridPage,10),n=parseInt(this.element.dataset.perPageTotal,10);return r?(r-1)*n+t:null}},{key:"insertExcludeTermButton",value:function(){if(Object(l.c)()){var e=document.querySelectorAll(".ez-resource-grid")[0],t=document.createElement("a"),r=document.createTextNode("exclude term");t.appendChild(r),t.dataset.action="click->resources-grid#excludeTerm",t.href="#",e.appendChild(t)}}},{key:"searchTerm",get:function(){var e=document.querySelector("[data-search-term]");return e?e.getAttribute("data-search-term"):""}},{key:"locale",get:function(){return document.documentElement.getAttribute("lang")}},{key:"contentType",get:function(){return document.querySelector(".ez-search-form__input").getAttribute("data-content-type")}},{key:"parseResourceId",value:function(e){return e.target.parentNode.parentNode.dataset.itemId}}])&&g(t.prototype,r),o&&g(t,o),a}(i.a);k.values={trackTruncation:Boolean},k.targets=["gridItem"];var P=r(47);function j(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function I(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function S(e,t){return S=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},S(e,t)}function L(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=R(e);if(t){var o=R(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return C(this,r)}}function C(e,t){return!t||"object"!==typeof t&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function R(e){return R=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},R(e)}var E=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&S(e,t)}(a,e);var t,r,o,i=L(a);function a(){var e;return j(this,a),(e=i.apply(this,arguments))._decorateGridItem=function(e){var t=e.elem,r=e.conditional,n=e.effect;r&&t&&n(t)},e}return t=a,(r=[{key:"connect",value:function(){this.addFreeLabels(),this.insertSearchDeboostingButtons(),this.addLoadModalClickAction(),this.addPrefetchHoverIntent(),this.addRemoveFromCollectionAction(),this.addCollectionDragHandle()}},{key:"disconnect",value:function(){this.removePrefetchHoverIntent()}},{key:"addFreeLabels",value:function(){var e=this.element.hasAttribute("data-free-label-text"),t=!P.a.isPro,r=!Object(n.G)(this.element.dataset.pro);this._decorateGridItem({elem:this.element,conditional:t&&r&&e,effect:function(e){e.classList.add("ez-resource-thumb--free-label")}})}},{key:"insertSearchDeboostingButtons",value:function(){this._decorateGridItem({elem:this.linkTarget,conditional:this.element.closest(".ez-search-results")&&Object(l.c)(),effect:function(e){e.insertAdjacentHTML("beforeend",'\n      <div class="ez-resource-thumb__link__admin ez-resource-thumb__link__admin--nope"\n            data-action="click->resources-grid#nopeResource">\n        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18.83 18.83">\n          <path d="M18.83 2.83L16 0 9.41 6.59 2.83 0 0 2.83l6.59 6.58L0 16l2.83 2.83 6.58-6.59L16 18.83 18.83 16l-6.59-6.59 6.59-6.58z"/>\n        </svg>\n      </div>\n    ')}})}},{key:"addLoadModalClickAction",value:function(){var e=!this.linkTarget.getAttribute("data-action").includes("partnerClick"),t=this.linkTarget.getAttribute("data-content-type"),r=!(t&&t.includes("bundle"));this._decorateGridItem({elem:this.linkTarget,conditional:Object(n.V)("iscroll_modal_v4")&&e&&r,effect:function(e){Object(n.a)({elem:e,attr:"action",value:"click->resources-grid#loadModalShow"})}})}},{key:"addPrefetchHoverIntent",value:function(){var e=this;this._decorateGridItem({elem:this.linkTarget,conditional:Object(n.V)("iscroll_modal_v4"),effect:function(t){Object(n.a)({elem:t,attr:"controller",value:"ez-hover-intent"}),t.addEventListener(y.g,e._prefetchModalAssets)}})}},{key:"removePrefetchHoverIntent",value:function(){var e=this;this._decorateGridItem({elem:this.linkTarget,conditional:Object(n.V)("iscroll_modal_v4"),effect:function(t){t.removeEventListener(y.g,e._prefetchModalAssets)}})}},{key:"addRemoveFromCollectionAction",value:function(){var e=this,t=this.element.closest(".ez-resource-grid"),r=null==t?void 0:t.querySelector("#removeFromCollectionTemplate"),n=this.element.querySelector(".ez-resource-thumb__hover-state");this._decorateGridItem({elem:this.element,conditional:!!r&&!!n,effect:function(t){e._injectRemoveButton(t,r,n)}})}},{key:"addCollectionDragHandle",value:function(){this._decorateGridItem({elem:this.element,conditional:this.element.hasAttribute("data-collection-item-id"),effect:function(e){e.insertAdjacentHTML("beforeend",'\n      <div class="ez-resource-thumb__grab__wrapper is-hidden" draggable="true">\n        <svg viewBox="0 0 9.8 14" xmlns="http://www.w3.org/2000/svg">\n          <g opacity=".74"><circle cx="1.5" cy="1.5" r="1.5"/>\n          <circle cx="1.5" cy="7" r="1.5"/><circle cx="1.5" cy="12.5" r="1.5"/>\n          <circle cx="8.3" cy="1.5" r="1.5"/><circle cx="8.3" cy="7" r="1.5"/>\n          <circle cx="8.3" cy="12.5" r="1.5"/></g>\n        </svg>\n      </div>\n    ')}})}},{key:"hoverThumb",value:function(e){var t=e.currentTarget,r=e.params;this._decorateGridItem({elem:t,conditional:!this._tallResource(t),effect:function(e){var t=r.userId,o=r.userDisplayName,i=r.avatarSrc,a=r.uploadsPath,c=r.contentType,u=r.itemPro,s=r.imageSrc,l=r.pinterestUrl,f=r.title,d=r.resourceId,p=document.querySelector('[data-grid-item-decorator-target="hoverTemplate"]').innerHTML.trim();if(p=Object(n.H)(p,{user_id:t,user_display_name:o,contributor_avatar_src:i,contributor_uploads_path:a,content_type:c,item_pro:u,image_src:s,pinterest_url:l,title:f,id:d,url:a,src:i}),e.querySelector(".ez-resource-thumb__hover-state").insertAdjacentHTML("beforeend",p),i){var h={src:i},v=e.querySelector('[data-template="avatar-template"]').innerHTML.trim(),b=e.querySelector(".ez-avatar");b.classList.remove("ez-avatar--missing"),b.innerHTML=Object(n.H)(v,h)}Object(n.Y)(y.t)}})}},{key:"_prefetchModalAssets",value:function(e){var t=e.currentTarget.dataset.previewsSrcs;JSON.parse(t||"[]").forEach((function(e){var t=Object(n.C)(e)?"video":"image";Object(n.q)({src:e,asAttr:t,linkClass:"modal-show-prefetch"})}))}},{key:"_injectRemoveButton",value:function(e,t,r){var o=e.dataset,i=o.collectionItemId,a=o.pro,c=e.querySelector(".ez-resource-thumb__link").dataset.contentType;if(i){var u=t.innerHTML.trim();u=Object(n.H)(u,{item_id:i,content_type:"Content-".concat(c),item_pro:a?"Pro":"Free"}),r.insertAdjacentHTML("beforeend",u)}}},{key:"_tallResource",value:function(e){var t=parseFloat(e.closest("[data-tall-resource-breakpoint]").getAttribute("data-tall-resource-breakpoint")),r=parseFloat(e.dataset.w);return parseFloat(e.dataset.h)/r>=t}}])&&I(t.prototype,r),o&&I(t,o),a}(i.a);E.targets=["link"];var x=r(56),A=r(41);function z(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function H(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?z(Object(r),!0).forEach((function(t){M(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):z(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function M(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function q(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function B(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function V(e,t){return V=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},V(e,t)}function G(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=N(e);if(t){var o=N(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return F(this,r)}}function F(e,t){return!t||"object"!==typeof t&&"function"!==typeof t?D(e):t}function D(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function N(e){return N=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},N(e)}var Q=new x.a,U=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&V(e,t)}(c,e);var t,o,i,a=G(c);function c(){var e;return q(this,c),(e=a.apply(this,arguments)).setNewThumbnailInfo=function(){e.setupContribInfoTooltips()},e.reinitializeContribTooltips=function(){e.tooltipsInitialized=!1,Q.addMediaQuery("(min-width: 1024px)",e.initTooltips),Q.evaluateAll(),Q.addListeners()},e.initTooltips=function(){if(!e.tooltipsInitialized){var t=e.element.querySelectorAll('.resource-action-button[data-ez-tooltip="true"]:not(.is-tipped)');t.length&&Object(A.a)(t);var n=D(e),o=e.element.querySelectorAll('[data-resources-grid-target="nameTarget"]:not(.is-tipped)');r.e(68).then(r.bind(null,1359)).then((function(t){(0,t.default)(o,{content:'<div class="ez-spinner ez-spinner--sm ez-spinner--color-mono"></div>',allowHTML:!0,animation:"rising",interactive:!0,appendTo:document.body,placement:"bottom-start",theme:"contrib-info",delay:[250,null],duration:0,onCreate:function(e){e.popper.classList.add("contributor-info-tooltip")},onShow:function(e){n.tippyInstance=e,n.showTooltip(),e.popper.addEventListener("mouseleave",n.stopPreviewVideo)},onHide:function(e){n.tippyInstance=e,n.hideTooltip(),e.popper.removeEventListener("mouseleave",n.stopPreviewVideo)}}),e.tooltipsInitialized=!0})),o.forEach((function(e){e.classList.add("is-tipped")}))}},e.stopPreviewVideo=function(t){var r=e.getParentLi(e.tippyInstance.reference);e.newTargetIsPreview(t.relatedTarget)||r.classList.remove("is-playing")},e.injectTooltipContent=function(){if(e.contributorsInfo||e.pageGrids.length>1){clearInterval(e.contributorsInfoPolling);var t=e.contribInfoTemplateTarget.innerHTML,r=e.parseTemplateForContributor(t);setTimeout((function(){e.initTooltipContent(r)}),0)}},e.clickThroughToProfile=function(t){e.trackContributorClick(t)},e}return t=c,(o=[{key:"connect",value:function(){this.hasContribInfoTemplateTarget&&this.contributorsIds.length&&this.setupMediaQueries(),this.hasContribThumbnailsTarget&&this.setupFollowingThumbnails(),Q.evaluateAll(),Q.addListeners(),window.addEventListener(y.t,this.reinitializeContribTooltips)}},{key:"disconnect",value:function(){Q.removeListeners(),Q.clearQueries(),window.removeEventListener(y.t,this.reinitializeContribTooltips)}},{key:"setupContribInfoTooltips",value:function(){var e=this;this.pageGrids=document.querySelectorAll('div[data-controller*="resources-grid"]:not(.ez-resource-grid--partner)');var t=document.querySelector(".ez-page-wrapper");this.contributorsIds&&(this.hasIdCollectionTarget&&"0"!==this.idCollectionTarget.dataset.featuredGrid||Object(p.b)("/async_contributors_info",(function(r){e.contributorsInfo=r.data;var n=JSON.parse(t.getAttribute("data-contributors-info")),o=H(H({},r.data),n);e.pageGrids.length>=1&&t.setAttribute("data-contributors-info",JSON.stringify(o))}),(function(e){console.error(e)}),{params:{contributor_ids:this.contributorsIds,preview_count:3}}),this.reinitializeContribTooltips())}},{key:"setupFollowingThumbnails",value:function(){var e=this;Object(p.b)("/async_contributors_info",(function(t){e.contributorsInfo=t.data,e.gatherfollowedUsers().forEach((function(t){var r=document.querySelector('[data-user-id="'.concat(t,'"] [data-thumbnail-contributor-info-target="previewsWrap"]')),n=e.contributorsInfo[t].previews,o="";n.forEach((function(t){var r=t.thumb_src,n=t.thumb_src_2x,i=t.resource_path,a=t.resource_title,c=t.content_type,u=t.pro;o+=e.makePreviewThumbHTML(r,n,i,a,c,u)})),r.innerHTML=o}))}),(function(e){console.error(e)}),{params:{contributor_ids:this.gatherfollowedUsers(),preview_count:3,sort:"recent"}})}},{key:"contributorsIds",get:function(){return this.hasContribInfoTemplateTarget?JSON.parse(this.contribInfoTemplateTarget.dataset.userIds):null}},{key:"gatherfollowedUsers",value:function(){var e=[];return this.contribThumbnailsTargets.forEach((function(t){e.push(t.dataset.userId)})),e}},{key:"showTooltip",value:function(){this.contributorsInfoPolling=setInterval(this.injectTooltipContent,100),this.injectTooltipContent()}},{key:"hideTooltip",value:function(){clearInterval(this.contributorsInfoPolling),this.getParentLi(this.tippyInstance.reference).classList.remove("is-hovered")}},{key:"newTargetIsPreview",value:function(e){return!!e.hasAttribute("data-video-preview-target")&&"videoWrap"===e.getAttribute("data-video-preview-target")}},{key:"initTooltipContent",value:function(e){var t=this.getTooltipContent(this.tippyInstance.popper),r=this.getParentLi(this.tippyInstance.reference);t.innerHTML=e,this.fixAvatar(),this.loadPreviewThumbs(),this.hideCountIfNull(),r.classList.add("is-hovered")}},{key:"parseTemplateForContributor",value:function(e){var t=this.contributorInfoById;return t.url=t.contributor_uploads_path,t.src=t.contributor_avatar_src,Object(n.H)(e,t)}},{key:"fixAvatar",value:function(){var e=this.getTooltipContent(this.tippyInstance.popper),t=e.querySelector(".ez-avatar"),r=e.querySelector('[data-thumbnail-contributor-info-target="avatarTemplate"]');this.contributorInfoById.contributor_avatar_src&&(t.classList.remove("ez-avatar--missing"),t.innerHTML=r.innerHTML)}},{key:"hideCountIfNull",value:function(){var e=this.getTooltipContent(this.tippyInstance.popper).querySelector(".contributor-details__contributor__count");this.contributorInfoById.contributor_resource_count||e.classList.add("is-hidden")}},{key:"loadPreviewThumbs",value:function(){var e=this,t=this.contributorInfoById.previews,r=this.tippyInstance.popper.querySelector('[data-thumbnail-contributor-info-target="previewsWrap"]'),n="";t.forEach((function(t){var r=t.thumb_src,o=t.thumb_src_2x,i=t.resource_path,a=t.resource_title,c=t.pro,u=t.contentType;n+=e.makePreviewThumbHTML(r,o,i,a,u,c)})),r.innerHTML=n}},{key:"makePreviewThumbHTML",value:function(e,t,r,n,o,i){return'<a href="'.concat(r,'"\n               class="ez-resource-grid__item__contrib-info__uploads__thumb"\n               data-content-type="').concat(o,'"\n               data-pro="').concat(i,'"\n               data-action="click->thumbnail-contributor-info#trackResourceClick">\n              <img src="').concat(e,'"\n                   srcset="').concat(t," 2x, ").concat(e,' 1x" alt="').concat(n,'"></a>\n              ')}},{key:"contributorInfoById",get:function(){var e,t=document.querySelector(".ez-page-wrapper"),r=t&&t.hasAttribute("data-contributors-info")?JSON.parse(t.getAttribute("data-contributors-info")):{},n=this.tippyInstance.reference.getAttribute("data-user-id");if((null==(e=this.contributorsInfo)?void 0:e[n])&&r[n]){var o=r[n].contributor_uploads_path;this.contributorsInfo[n]=r[n],this.contributorsInfo[n].url=o}return H(H({},r),this.contributorsInfo||{})[n]}},{key:"getParentLi",value:function(e){return e.closest(".ez-resource-thumb")}},{key:"trackContributorClick",value:function(e){Object(u.k)({element:e.target||e.currentTarget,data:{action:s.w}})}},{key:"trackResourceClick",value:function(e){var t=e.target.dataset,r=t.contentType,o=t.pro;Object(u.k)({element:e.target,data:{action:s.v,label:Object(n.G)(o)?"Pro":"Free",content_type:"Content-".concat(r)}})}},{key:"getTooltipHeader",value:function(e){return e.querySelector(".tippy-box[data-theme=contrib-info] .contributor-details__contributor")}},{key:"getTooltipContent",value:function(e){return e.querySelector(".tippy-content")}},{key:"setupMediaQueries",value:function(){var e=this;Q.addMediaQuery("(min-width: 1024px)",(function(){e.contributorsIds.length&&e.setupContribInfoTooltips()}))}}])&&B(t.prototype,o),i&&B(t,i),c}(i.a);U.targets=["contribInfoTemplate","contribThumbnails","idCollection","avatarTemplate"];var J=r(546),W=r.n(J);function Y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function K(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function X(e,t){return X=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},X(e,t)}function Z(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=ee(e);if(t){var o=ee(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return $(this,r)}}function $(e,t){return!t||"object"!==typeof t&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ee(e){return ee=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ee(e)}var te=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&X(e,t)}(a,e);var t,r,o,i=Z(a);function a(){var e;return Y(this,a),(e=i.apply(this,arguments)).hoverIntentIn=function(){Object(n.Y)(y.g,{},e.element)},e.hoverIntentOut=function(){Object(n.Y)(y.h,{},e.element)},e}return t=a,(r=[{key:"connect",value:function(){W()(this.element,this.hoverIntentIn,this.hoverIntentOut)}}])&&K(t.prototype,r),o&&K(t,o),a}(i.a),re=r(19);function ne(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function oe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ie(e,t){return ie=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},ie(e,t)}function ae(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=ue(e);if(t){var o=ue(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return ce(this,r)}}function ce(e,t){return!t||"object"!==typeof t&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ue(e){return ue=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ue(e)}var se=new x.a,le=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ie(e,t)}(i,e);var t,r,n,o=ae(i);function i(){var e;ne(this,i);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return(e=o.call.apply(o,[this].concat(r))).videoSelector='[data-video-preview-target*="preview"]',e.addPreviewEvents=function(){e.previewTargets.forEach((function(t){t.addEventListener("mouseenter",e.playVideo,!1),t.addEventListener("mouseleave",e.maybePauseVideo,!1)}))},e.removePreviewEvents=function(){e.previewTargets.forEach((function(t){t.removeEventListener("mouseenter",e.playVideo),t.removeEventListener("mouseleave",e.maybePauseVideo)}))},e.pauseHiddenVideos=function(t){e.element.querySelectorAll("video").forEach((function(r){r!==t.target&&e.pauseVideo(r,!0)}))},e.playVideo=function(t){t.stopPropagation();var r=t.currentTarget;r.querySelector("video")||e.addVideoToDOM(r),e.videoPlayIntent=setTimeout((function(){var e=r.querySelector("video"),t=e.play();void 0!==t&&t.then((function(){e.loop=!0,e.readyState>=3&&r.classList.add("is-playing")}))}),150)},e.maybePauseVideo=function(t){clearTimeout(e.videoPlayIntent);var r=t.currentTarget.querySelector("video");r.closest(e.videoSelector).classList.contains("is-hovered")||e.pauseVideo(r,!0)},e}return t=i,r=[{key:"connect",value:function(){if(!this.hasPreviewTarget)return!1;this.setupPreviewMediaQueries(),document.addEventListener("play",this.pauseHiddenVideos,!0),se.evaluateAll(),se.addListeners()}},{key:"disconnect",value:function(){this.removeListeners(),se.removeListeners(),se.clearQueries()}},{key:"removeListeners",value:function(){document.removeEventListener("play",this.pauseHiddenVideos),this.removePreviewEvents()}},{key:"addVideoToDOM",value:function(e){var t=e.dataset.videoUrl,r='<div class="video-wrapper">\n                        <video autoplay="true" preload="none" muted playsinline>\n                          <source src="'.concat(t,'" type="video/mp4">\n                        </video>\n                      </div>');e.querySelector('[data-video-preview-target*="videoWrap"]').insertAdjacentHTML("beforeend",r)}},{key:"isPlaying",value:function(e){var t=e.currentTime>0&&!e.paused&&!e.ended&&e.readyState>2;return t}},{key:"pauseVideo",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.isPlaying(e)){e.closest(this.videoSelector).classList.remove("is-playing"),e.pause();var r=e.querySelector("source"),n=r.src;r.src="",r.removeAttribute("src"),e.load(),r.src=n,e.pause(),t&&(e.currentTime=0)}}},{key:"setupPreviewMediaQueries",value:function(){var e=this;se.addMediaQuery("(min-width: 1024px)",(function(){e.addPreviewEvents()}),(function(){e.removePreviewEvents()}))}}],r&&oe(t.prototype,r),n&&oe(t,n),i}(re.b);function fe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function de(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function pe(e,t){return pe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},pe(e,t)}function he(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=be(e);if(t){var o=be(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return ve(this,r)}}function ve(e,t){return!t||"object"!==typeof t&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function be(e){return be=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},be(e)}le.targets=["preview"];var ye=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&pe(e,t)}(i,e);var t,r,n,o=he(i);function i(){return fe(this,i),o.apply(this,arguments)}return t=i,(r=[{key:"connect",value:function(){var e=this;this.waitForCondition((function(){return window.PinUtils&&"function"===typeof window.PinUtils.pinOne}),(function(){e.flagLoaded()}))}},{key:"shareClick",value:function(e){e.preventDefault(),e.stopPropagation();var t={url:this.urlValue,media:this.mediaValue,description:this.descriptionValue};window.PinUtils.pinOne(t),this.trackShareClick(e)}},{key:"trackShareClick",value:function(e){Object(u.k)({element:e.currentTarget,data:{action:s.rc,label:"Share-Pinterest"}})}}])&&de(t.prototype,r),n&&de(t,n),i}(i.a);ye.values={url:String,media:String,description:String},o.default.register("resources-grid",k),o.default.register("grid-item-decorator",E),o.default.register("thumbnail-contributor-info",U),Object(n.V)("iscroll_modal_v4")&&o.default.register("ez-hover-intent",te),o.default.register("video-preview",le),o.default.register("pinterest-share",ye)},686:function(e,t,r){e.exports=r.p+"media/components/resources/grid/img/blank-1cf4210035fd8abc05a5567a28681644.png"},687:function(e,t,r){e.exports=r.p+"media/components/resources/grid/prototype/thumb1-a1f40ad292f62096b31f048626f4ec51.jpg"},688:function(e,t,r){e.exports=r.p+"media/components/resources/grid/prototype/thumb2-9471185114446b9d84f1ee36998d0e87.jpg"},689:function(e,t,r){e.exports=r.p+"media/components/resources/grid/prototype/thumb3-287044f95c662b88380fb1f844d16979.jpg"}}]);
//# sourceMappingURL=grids-7edbd5f4edb096204fef.chunk.js.map