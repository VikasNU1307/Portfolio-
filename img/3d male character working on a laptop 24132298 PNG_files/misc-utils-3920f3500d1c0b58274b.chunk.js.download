(window.webpackJsonp=window.webpackJsonp||[]).push([[77],{1275:function(e,t,n){"use strict";n.r(t);n(691),n(692),n(693),n.p,n.p,n(694),n(695),n(696);var o=n(3),r=n(65),i=n(123),a=n(14),c=n.n(a),s=n(20);function l(e){return function(e){if(Array.isArray(e))return u(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}var f=function(){return document.body.getAttribute("data-referring-path")},_=function(){return!!document.querySelector("#resource-show-modal-view")},d=function(e){var t;Object(o.Y)(s.a.show_page.modal.update_resource_navigation_context,{newCurrentPath:e.path}),(t=Object(o.k)())&&c.a.set("temp-search-page-num",t);var n=e.navContext||Object(r.a)("resources-nav-context");Object(r.f)("resources-nav-context",n),window.history.replaceState({modalData:{id:"resource-show-modal-view",title:e.title,path:e.path,resourceId:e.resourceId,contextPath:f(),navContext:n}},e.title,e.path),Object(i.b)({url:e.path,params:{history_click:!0},callback:function(){return Object(o.Y)(s.a.show_page.modal.open_modal_view)}})},p=function(e,t){t!==e.contextPath?function(e){window.localStorage.setItem("open_modal_show_on_page_load",JSON.stringify(e)),window.history.replaceState({modalData:{id:"resource-show-modal-view",title:e.title,path:e.path,resourceId:e.resourceId,contextPath:e.contextPath}},e.title,e.contextPath),window.history.go(e.contextPath)}(e):d(e)};document.addEventListener("DOMContentLoaded",(function(e){window.localStorage.getItem("open_modal_show_on_page_load")&&(d(JSON.parse(window.localStorage.getItem("open_modal_show_on_page_load"))),window.localStorage.removeItem("open_modal_show_on_page_load"))})),window.addEventListener(s.a.show_page.modal.build_resource_navigation_context,(function(e){var t=e.detail.targetResourcePath,n=l(e.detail.targetResourceGroup.querySelectorAll(".ez-resource-thumb__link")),o={};n.forEach((function(e,t){var n;!(null==(n=e.getAttribute("data-content-type"))?void 0:n.includes("bundle"))&&(o[t]={id:e.parentNode.dataset.itemId,href:e.getAttribute("href"),previewsSrcs:e.dataset.previewsSrcs})})),o.currentPosition=Object(i.a)(o,t),Object(r.f)("resources-nav-context",o)})),window.addEventListener("popstate",(function(e){var t;(t=e)&&!t.turbolinks&&Object.entries(t).length>0?function(e,t){e.state.modalData?p(e.state.modalData,t):_()&&Object(o.Y)(s.a.show_page.modal.history_close_modal_view)}(e,f()):_()?Object(o.Y)(s.a.show_page.modal.history_close_modal_view,{updateState:!1}):window.history.go()}));n(697);var h=n(6),y=n(29),v=n(547),w=n(13);function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function g(e,t){return g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},g(e,t)}function O(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=P(e);if(t){var r=P(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return E(this,n)}}function E(e,t){return!t||"object"!==typeof t&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function P(e){return P=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},P(e)}var S=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&g(e,t)}(a,e);var t,n,r,i=O(a);function a(){var e;return m(this,a),(e=i.apply(this,arguments)).blurSubMenus=function(e){var t=document.querySelectorAll(".ez-drop-down.is-open"),n=e.target.closest(".ez-drop-down");t&&t.forEach((function(e){n!==e&&(Object(o.Y)(s.a.util.ez_drop_down.close_drop_down,e),Object(o.Y)(s.a.util.ez_drop_down.close_drop_down,{},e))}))},e.closeDropDown=function(){e.toggleSubMenu(e.element)},e.allowEscClose=function(t){27===t.keyCode&&e.blurSubMenus(t)},e}return t=a,(n=[{key:"connect",value:function(){this.element.addEventListener(s.a.util.ez_drop_down.close_drop_down,this.closeDropDown),window.addEventListener("keyup",this.allowEscClose),document.addEventListener("click",this.blurSubMenus)}},{key:"disconnect",value:function(){this.element.removeEventListener(s.a.util.ez_drop_down.close_drop_down,this.closeDropDown),window.removeEventListener("keyup",this.allowEscClose),document.removeEventListener("click",this.blurSubMenus)}},{key:"handleSubMenuClick",value:function(){var e=this.element;this.toggleSubMenu(e)}},{key:"closeExploreMenuItems",value:function(){Object(o.Y)("CloseSearchExploreSubMenus")}},{key:"toggleSubMenu",value:function(e){e.classList.toggle("is-closed"),e.classList.toggle("is-open")}}])&&b(t.prototype,n),r&&b(t,r),a}(w.a);function k(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function L(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function C(e,t){return C=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},C(e,t)}function T(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=R(e);if(t){var r=R(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return M(this,n)}}function M(e,t){return!t||"object"!==typeof t&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function R(e){return R=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},R(e)}var D=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&C(e,t)}(a,e);var t,n,r,i=T(a);function a(){var e;k(this,a);for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return(e=i.call.apply(i,[this].concat(n))).checkPosition=function(){(document.body.scrollTop||document.documentElement.scrollTop)>e.breakpoint?e.showScrollTop():e.hideScrollTop()},e}return t=a,(n=[{key:"connect",value:function(){this.breakpoint=3*Object(o.n)(),window.addEventListener("scroll",this.checkPosition),this.flagLoaded()}},{key:"disconnect",value:function(){window.removeEventListener("scroll",this.checkPosition)}},{key:"showScrollTop",value:function(){this.element.classList.add("is-active")}},{key:"hideScrollTop",value:function(){this.element.classList.remove("is-active")}},{key:"scrollToTop",value:function(){Object(o.U)(0)}}])&&L(t.prototype,n),r&&L(t,r),a}(w.a);function j(e){return function(e){if(Array.isArray(e))return A(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return A(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return A(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function A(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function B(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function I(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function x(e,t){return x=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},x(e,t)}function U(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=K(e);if(t){var r=K(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return N(this,n)}}function N(e,t){return!t||"object"!==typeof t&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function K(e){return K=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},K(e)}var W=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&x(e,t)}(i,e);var t,n,o,r=U(i);function i(){return B(this,i),r.apply(this,arguments)}return t=i,(n=[{key:"connect",value:function(){this.flagLoaded()}},{key:"on",value:function(){var e=this;this.elementTargets.forEach((function(t){var n;(n=t.classList).add.apply(n,j(e.nameClasses))}))}},{key:"off",value:function(){var e=this;this.elementTargets.forEach((function(t){var n;(n=t.classList).remove.apply(n,j(e.nameClasses))}))}}])&&I(t.prototype,n),o&&I(t,o),i}(w.a);function q(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function V(e,t){return V=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},V(e,t)}function z(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=J(e);if(t){var r=J(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return H(this,n)}}function H(e,t){return!t||"object"!==typeof t&&"function"!==typeof t?Y(e):t}function Y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function F(e,t,n){return F="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var o=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=J(e)););return e}(e,t);if(o){var r=Object.getOwnPropertyDescriptor(o,t);return r.get?r.get.call(n):r.value}},F(e,t,n||e)}function J(e){return J=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},J(e)}W.classes=["name"],W.targets=["element"];var G=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&V(e,t)}(n,e);var t=z(n);function n(){var e,o,r;return q(this,n),(r=t.apply(this,arguments)).close=function(t){t.params.reload?F((e=Y(r),J(n.prototype)),"close",e).call(e,t,(function(){}),r.reloadPage):F((o=Y(r),J(n.prototype)),"close",o).call(o,t)},r.reloadPage=function(){window.location.reload()},r}return n}(y.a),Q=n(19);function $(e){var t;return function(){for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];t&&cancelAnimationFrame(t),t=requestAnimationFrame((function(){e.apply(void 0,o)}))}}var X=n(16);function Z(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ee(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function te(e,t){return te=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},te(e,t)}function ne(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=re(e);if(t){var r=re(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return oe(this,n)}}function oe(e,t){return!t||"object"!==typeof t&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function re(e){return re=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},re(e)}var ie=new(n(56).a),ae=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&te(e,t)}(i,e);var t,n,o,r=ne(i);function i(){var e;return Z(this,i),(e=r.apply(this,arguments)).lastScrolledPosition=window.scrollY,e.isScrolled=!1,e.setupSticky=function(){e.setupStickyMediaQueries(),e.initialState(),window.addEventListener("scroll",e.normalScrollCheck)},e.initialState=function(){e.stickElement(),e.showElement(),e.isCloseToTop()&&e.hideStickyHeaderSearchBar(),window.addEventListener("scroll",e.dynamicScrollCheck)},e.disableDynamicSticky=function(){e.stickElement(),e.showElement(),window.removeEventListener("scroll",e.dynamicScrollCheck)},e.isScrollingUp=function(){return e.lastScrolledPosition>window.scrollY},e.isScrolledToTop=function(){return window.scrollY<=0},e.isCloseToTop=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=e.element,o=t?50:0;return window.scrollY<=n.offsetHeight+o},e.hasScrolledPastLastStickyElement=function(){var e=document.querySelectorAll('[data-controller*="dynamic-sticky"]'),t=Array.from(e).reduce((function(e,t){var n=e.offsetTop+e.offsetHeight;return t.offsetTop+t.offsetHeight>n?t:e}));return window.scrollY>t.clientHeight},e.showElement=function(){e.element.classList.contains(e.isStickyClass)&&(e.element.classList.remove(e.hideElementClass),e.element.classList.add(e.showElementClass),e.showStickyHeaderSearchBar(),e.applyStickyOffset())},e.hideElement=function(){e.element.classList.remove(e.showElementClass),e.element.classList.add(e.hideElementClass),e.removeStickyOffset()},e.unstickElement=function(){e.element.classList.remove(e.showElementClass),e.element.classList.remove(e.isStickyClass)},e.stickElement=function(){e.element.classList.add(e.isStickyClass)},e.showStickyHeaderSearchBar=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];!e.mainSearchBar||e.isCloseToTop(!0)&&!t||(e.mainSearchBar.classList.add("is-visible"),e.searchField.disabled=!1)},e.applyStickyOffset=function(){if(e.offsetElementSelectorValue){var t=document.querySelector(e.offsetElementSelectorValue);e.element.style.top="".concat(t.offsetHeight,"px")}},e.removeStickyOffset=function(){e.element.style.top="0"},e.applyStickyHeader=function(){e.isScrollingUp()?e.scrollingUpActions():e.scrollingDownActions(),e.lastScrolledPosition=window.scrollY},e.scrollingUpActions=function(){e.showElement(),e.isScrolledToTop()&&e.unstickElement(),e.isCloseToTop()&&e.hideStickyHeaderSearchBar()},e.scrollingDownActions=function(){e.hasScrolledPastLastStickyElement()&&(e.stickElement(),e.hideElement())},e.checkScroll=function(){window.scrollY>e.scrollOffsetValue&&!1===e.isScrolled?(document.body.classList.add("is-scrolled"),e.isScrolled=!0):window.scrollY<=0&&!0===e.isScrolled&&(document.body.classList.remove("is-scrolled"),e.isScrolled=!1)},e.normalScrollCheck=$(e.checkScroll),e.dynamicScrollCheck=$((function(){e.applyStickyHeader()})),e}return t=i,(n=[{key:"connect",value:function(){this.waitToGetSticky()?window.addEventListener(X.q,this.setupSticky):this.setupSticky(),window.addEventListener("resize",this.applyStickyOffset)}},{key:"disconnect",value:function(){window.removeEventListener(X.q,this.setupSticky),window.removeEventListener("resize",this.applyStickyOffset),window.removeEventListener("scroll",this.normalScrollCheck),window.removeEventListener("scroll",this.dynamicScrollCheck)}},{key:"setupStickyMediaQueries",value:function(){var e=this;ie.addMediaQuery("(max-width: 635px)",(function(){return e.showStickyHeaderSearchBar(!0)}),this.initialState),ie.evaluateAll(),ie.addListeners()}},{key:"hideStickyHeaderSearchBar",value:function(){!this.mobileSearchButtonVisible()&&document.body.classList.contains("main-search-soft-hidden")&&this.mainSearchBar&&(this.mainSearchBar.classList.remove("is-visible"),this.searchField.disabled=!0)}},{key:"mobileSearchButtonVisible",value:function(){var e=document.querySelector('[data-action*="click->site-header#toggleMobileSearch"]');return!!e&&"none"!==getComputedStyle(e).display}},{key:"waitToGetSticky",value:function(){return window.waitToGetSticky||this.waitToInitValue}},{key:"mainSearchBar",get:function(){return document.querySelector(".ez-site-header__search-fullwidth")}},{key:"searchField",get:function(){return this.mainSearchBar.querySelector(".ez-search-form__input")}}])&&ee(t.prototype,n),o&&ee(t,o),i}(Q.b);ae.classes=["isSticky","showElement","hideElement"],ae.values={mobileOnly:{type:Number,default:0},waitToInit:{type:Boolean,default:!1},offsetElementSelector:String,scrollOffset:{type:Number,default:0}},h.default.register("ez-modal",y.a),h.default.register("resource-show-modal-view",v.a),h.default.register("ez-drop-down",S),h.default.register("scroll-top",D),h.default.register("toggle-class",W),h.default.register("success-modal",G),h.default.register("dynamic-sticky",ae)},547:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return ResourceShowModalViewController}));var layouts_modal_modal_controller__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(29),lib_state_helpers__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(65),lib_helpers__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(3),lib_utils_tooltips__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(41),lib_events__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(20),components_analytics_conversions_tracking__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(7),lib_show_modal_helpers__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(123),components_analytics_conversions_constants_actions__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(9),lib_ez_custom_events__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(16);function ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(n),!0).forEach((function(t){_defineProperty(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}function _inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}function _setPrototypeOf(e,t){return _setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},_setPrototypeOf(e,t)}function _createSuper(e){var t=_isNativeReflectConstruct();return function(){var n,o=_getPrototypeOf(e);if(t){var r=_getPrototypeOf(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return _possibleConstructorReturn(this,n)}}function _possibleConstructorReturn(e,t){return!t||"object"!==typeof t&&"function"!==typeof t?_assertThisInitialized(e):t}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _isNativeReflectConstruct(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function _get(e,t,n){return _get="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var o=_superPropBase(e,t);if(o){var r=Object.getOwnPropertyDescriptor(o,t);return r.get?r.get.call(n):r.value}},_get(e,t,n||e)}function _superPropBase(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=_getPrototypeOf(e)););return e}function _getPrototypeOf(e){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},_getPrototypeOf(e)}var ResourceShowModalViewController=function(_EzModalController){_inherits(ResourceShowModalViewController,_EzModalController);var _super=_createSuper(ResourceShowModalViewController);function ResourceShowModalViewController(){var e,t;return _classCallCheck(this,ResourceShowModalViewController),(t=_super.apply(this,arguments)).modalViewOpen=function(){t.modalViewInit(),t.displayNavElements()},t.modalViewInit=function(){var e=t.element.querySelector(".ez-resource-show");e&&(t.element.scrollTop=0,t.resourceType=e.dataset.resourceType,t.contentType=Object(lib_helpers__WEBPACK_IMPORTED_MODULE_2__.i)(),Object(lib_helpers__WEBPACK_IMPORTED_MODULE_2__.Y)(lib_ez_custom_events__WEBPACK_IMPORTED_MODULE_8__.w),t.contentTarget.classList.remove("is-loading"),t.setupPageState(),t.suspendProperAds(),t.initAds(),window.addEventListener(lib_events__WEBPACK_IMPORTED_MODULE_4__.a.show_page.modal.history_close_modal_view,t.historyClose),window.addEventListener(lib_events__WEBPACK_IMPORTED_MODULE_4__.a.show_page.modal.update_resource_navigation_context,t.updateNavContext),t.setupNavPos())},t.keyboardNavLeft=function(e){37===e.keyCode&&t.navLinkPrevTarget.click()},t.keyboardNavRight=function(e){39===e.keyCode&&t.navLinkNextTarget.click()},t.navigate=function(e){if(e.preventDefault(),!t.contentTarget.classList.contains("is-loading")){var n=e.currentTarget;n.classList.add("is-active");var o=e.params.direction,r=t["".concat(o,"ResourcePath")];t.updateNavContext({detail:{newCurrentPath:r}}),Object(lib_helpers__WEBPACK_IMPORTED_MODULE_2__.Y)(lib_events__WEBPACK_IMPORTED_MODULE_4__.a.show_page.modal["".concat(o,"_arrow_click")],{}),t.sendNavigationTracking(n,o),t.navSpinnerTimeout=t.maybeAddNavSpinner(n),Object(lib_show_modal_helpers__WEBPACK_IMPORTED_MODULE_6__.b)({url:r,callback:function(){t.postNavigationSetup(n)}})}},t.postNavigationSetup=function(e){t.reloadModalView(),e.classList.remove("is-active"),clearTimeout(t.navSpinnerTimeout),e.querySelector(".ez-spinner")&&(e.classList.remove("is-loading"),e.querySelector(".ez-spinner").remove())},t.updateNavContext=function(e){var n=e.detail.newCurrentPath;t.contextState.currentPosition=Object(lib_show_modal_helpers__WEBPACK_IMPORTED_MODULE_6__.a)(t.contextState,n),Object(lib_state_helpers__WEBPACK_IMPORTED_MODULE_1__.f)("resources-nav-context",t.contextState)},t.reloadModalView=function(){t.cleanupEventListeners(),t.modalViewInit(),t.updateNavElements()},t.close=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;_get((e=_assertThisInitialized(t),_getPrototypeOf(ResourceShowModalViewController.prototype)),"close",e).call(e,n,t.beforeClose,t.afterClose)},t.historyClose=function(e){Object(lib_helpers__WEBPACK_IMPORTED_MODULE_2__.Y)(lib_events__WEBPACK_IMPORTED_MODULE_4__.a.modal.close_modal,_objectSpread({historyClose:!0},e.detail))},t.beforeClose=function(e){var n=e&&"undefined"!==typeof e.detail?e.detail:{},o="undefined"===typeof n.updateState||n.updateState,r=n.historyClose||!1;t.cleanup(r,o),Object(components_analytics_conversions_tracking__WEBPACK_IMPORTED_MODULE_5__.k)({element:null==e?void 0:e.currentTarget,data:{action:components_analytics_conversions_constants_actions__WEBPACK_IMPORTED_MODULE_7__.oc,label:t.resourceType,content_type:"Content-".concat(t.contentType)}})},t.afterClose=function(){Object(lib_helpers__WEBPACK_IMPORTED_MODULE_2__.Y)(lib_ez_custom_events__WEBPACK_IMPORTED_MODULE_8__.s),t.reinitProperAds()},t}return _createClass(ResourceShowModalViewController,[{key:"connect",value:function(){_get(_getPrototypeOf(ResourceShowModalViewController.prototype),"connect",this).call(this),window.addEventListener(lib_events__WEBPACK_IMPORTED_MODULE_4__.a.show_page.modal.open_modal_view,this.modalViewOpen)}},{key:"disconnect",value:function(){window.removeEventListener(lib_events__WEBPACK_IMPORTED_MODULE_4__.a.show_page.modal.open_modal_view,this.modalViewOpen)}},{key:"setupTracking",value:function setupTracking(){var gtagConfig=this.gtagConfigTarget.innerHTML,eventData=_objectSpread({event:components_analytics_conversions_constants_actions__WEBPACK_IMPORTED_MODULE_7__.hb},this.getModalViewAnalyticsDimensions());delete eventData.snowplow_collector,delete eventData.snowplow_app_id,this.sendPageView(),eval(gtagConfig),window.dataLayer.push(eventData)}},{key:"getModalViewAnalyticsDimensions",value:function(){var e=this.analyticsDataTarget;return JSON.parse(e.getAttribute("content"))}},{key:"setupPageState",value:function(){var e=this.element.querySelector(".resource-show-modal-wrapper"),t=e.dataset,n=t.resourceId,o=t.resourcePath,r=decodeURI(e.dataset.resourceTitle);this.referringTitle=document.body.getAttribute("data-referring-title"),this.referringPath=document.body.getAttribute("data-referring-path"),this.modalViewFromHistory=e.getAttribute("data-from-history"),this.element.querySelectorAll(".ez-tooltip-icon").length>0&&Object(lib_utils_tooltips__WEBPACK_IMPORTED_MODULE_3__.a)(),"turbolinks"in window.history&&(this.previousStateObj=window.history.state),this.modalViewFromHistory?this.removeModalHistoryAttrFromBody():window.history.pushState({modalData:{id:"resource-show-modal-view",title:r,path:o,resourceId:n,contextPath:this.referringPath,navContext:Object(lib_state_helpers__WEBPACK_IMPORTED_MODULE_1__.a)("resources-nav-context")}},r,o),document.title=r,this.setupTracking()}},{key:"removeModalHistoryAttrFromBody",value:function(){delete document.querySelector("body").dataset.modalViewFromHistory}},{key:"setupNavPos",value:function(){this.contextState=window.history.state.navContext||Object(lib_state_helpers__WEBPACK_IMPORTED_MODULE_1__.a)("resources-nav-context");var e=parseInt(this.contextState.currentPosition,10),t=this.contextState[e],n=this.contextState[e-1],o=this.contextState[e+1];this.currentResourcePath=null==t?void 0:t.href,this.prevResourcePath=null==n?void 0:n.href,this.nextResourcePath=null==o?void 0:o.href}},{key:"displayNavElements",value:function(){this.prevResourcePath&&(this.navLinkPrevTargets.forEach((function(e){e.classList.remove("is-disabled")})),window.addEventListener("keyup",this.keyboardNavLeft)),this.nextResourcePath&&(this.navLinkNextTargets.forEach((function(e){e.classList.remove("is-disabled")})),window.addEventListener("keyup",this.keyboardNavRight))}},{key:"updateNavElements",value:function(){this.prevResourcePath?(this.navLinkPrevTargets.forEach((function(e){e.classList.remove("is-disabled")})),window.addEventListener("keyup",this.keyboardNavLeft)):(this.navLinkPrevTargets.forEach((function(e){e.classList.add("is-disabled")})),window.removeEventListener("keyup",this.keyboardNavLeft)),this.nextResourcePath?(this.navLinkNextTargets.forEach((function(e){e.classList.remove("is-disabled")})),window.addEventListener("keyup",this.keyboardNavRight)):(this.navLinkNextTargets.forEach((function(e){e.classList.add("is-disabled")})),window.removeEventListener("keyup",this.keyboardNavRight))}},{key:"maybeAddNavSpinner",value:function(e){return setTimeout((function(){e.classList.add("is-loading"),e.insertAdjacentHTML("afterbegin",'<div class="ez-spinner ez-spinner"></div>')}),500)}},{key:"modalContentWrapper",get:function(){return document.querySelector('#resource-show-modal-view [data-ez-modal-target="content"]')}},{key:"sendNavigationTracking",value:function(e,t){var n="prev"===t?components_analytics_conversions_constants_actions__WEBPACK_IMPORTED_MODULE_7__.qc:components_analytics_conversions_constants_actions__WEBPACK_IMPORTED_MODULE_7__.pc;Object(components_analytics_conversions_tracking__WEBPACK_IMPORTED_MODULE_5__.k)({element:e,data:{action:n,label:this.resourceType,content_type:"Content-".concat(this.contentType)}})}},{key:"initAds",value:function(){"undefined"!==typeof window.properSpaNewPage&&(null!==document.querySelector("[data-proper-ad-id]")&&window.properSpaNewPage())}},{key:"emptyAdSlot",value:function(e){var t,n=e.querySelector(".ez-ad-container__ad-wrap--inner");n.innerHTML="",null==(t=e.querySelector(".ad-sticky"))||t.remove(),n.classList.contains("proper-dynamic-insertion")&&n.classList.remove("proper-dynamic-insertion")}},{key:"unsetProperAd",value:function(e){this.emptyAdSlot(e);var t=e.cloneNode(!0),n=document.createElement("template");n.setAttribute("class","ad-slot-template"),n.content.append(t),e.parentNode.insertBefore(n,e),e.remove(),window.properDeleteSlot(e.dataset.properAdId)}},{key:"suspendProperAds",value:function(){var e=this;if("undefined"!==typeof window.properDeleteSlot){var t=document.querySelectorAll(".ez-page-wrapper [data-proper-ad-id]");t&&t.forEach((function(t){e.unsetProperAd(t)}))}}},{key:"reinitProperAds",value:function(){document.querySelectorAll(".ad-slot-template").forEach((function(e){var t=e.parentNode,n=e.content.cloneNode(!0);t.insertBefore(n,e),e.remove()})),this.initAds()}},{key:"sendPageView",value:function(){Object(components_analytics_conversions_tracking__WEBPACK_IMPORTED_MODULE_5__.k)({data:_objectSpread({action:components_analytics_conversions_constants_actions__WEBPACK_IMPORTED_MODULE_7__.Fb,category:"Show - Modal",content_group5:"Show - Modal",page_path:window.location.pathname,dimension20:this.contentType},this.getModalViewAnalyticsDimensions())})}},{key:"cleanup",value:function(e,t){if(this.cleanupEventListeners(),t){var n=this.previousStateObj||{};e?window.history.replaceState(n,this.referringTitle,this.referringPath):window.history.pushState(n,this.referringTitle,this.referringPath)}document.title=this.referringTitle}},{key:"cleanupEventListeners",value:function(){window.removeEventListener(lib_events__WEBPACK_IMPORTED_MODULE_4__.a.show_page.modal.history_close_modal_view,this.historyClose),window.removeEventListener(lib_events__WEBPACK_IMPORTED_MODULE_4__.a.show_page.modal.update_resource_navigation_context,this.updateNavContext),window.removeEventListener("keyup",this.keyboardNavLeft),window.removeEventListener("keyup",this.keyboardNavRight)}}]),ResourceShowModalViewController}(layouts_modal_modal_controller__WEBPACK_IMPORTED_MODULE_0__.a);ResourceShowModalViewController.targets=["adTemplate","content","navLinkNext","navLinkPrev","analyticsData","gtagConfig"]},691:function(e,t,n){},692:function(e,t,n){},693:function(e,t,n){e.exports=n.p+"media/components/global/promos/redirector-app-notice/img/bkg-5cf2fdd5941e9a9826312c4ca971bef0.png"},694:function(e,t,n){},695:function(e,t,n){},696:function(e,t,n){},697:function(e,t,n){}}]);
//# sourceMappingURL=misc-utils-3920f3500d1c0b58274b.chunk.js.map